<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script defer src="02_02.js"></script>
</head>
<body>
<form actiom="https://api.tvmaze.com/search/shows">
    <input type="text" id="query">
    <input type="submit" value="Search">
</form>
<div id="results"></div>

<script>
/*
    //const form = document.querySelector("form")
    //form.addEventListener('submit', function (event){
    document.querySelector("form").addEventListener('submit', function (event){
      console.log(event)
      event.preventDefault()
      const searchWord = document.getElementById("query").value
      console.log(searchWord)
      fetchTv(searchWord)
    })
    async function fetchTv(searchWord) {
      const response = await fetch(`https://api.tvmaze.com/search/shows?q=${searchWord}`)
      console.log(response)
      const data = await response.json()
      //console.log(data)
      createArticles(data)
    }

    function createArticles(data) {
      document.getElementById("results").innerHTML = ""
      console.log(data)
      for (const movie of data) {
        console.log(movie.show.name)

        const article = document.createElement("article")

        const h2 = document.createElement("h2")
        h2.innerText = movie.show.name

        const link = document.createElement("a")
        link.innerText = movie.show.url
        link.href = movie.show.url
        link.target = "_blank"

        const img = document.createElement("img")
        img.alt = movie.show.name
        //img.src = movie.show.image?.medium || "https://placedog.net/210/230"//"https://via.placeholder.com/210x295?text=Not%20Found"

/*
        if (movie.show.image) {
          img.src = movie.show.image.medium
        } else {
          img.src = "https://placedog.net/210/230"
        }

        // ehto
        // ? arvo.JosOnTrue
        // : arvoJosOnFalse
        img.src = movie.show.image ? movie.show.image.medium : "https://placedog.net/210/230"

        const d = document.createElement("div")
        d.innerHTML = movie.show.summary

        article.appendChild(h2)
        article.appendChild(link)
        article.appendChild(img)
        article.appendChild(d)

        document.getElementById("results").appendChild(article)

      }
    }
*/

    /*
 async function fetchTv2(searchWord) {
      try{
        const response = await fetch(`https://api.tvmaze.com/search/shows?q=${searchWord}`)
        console.log(response)
        if(!response.ok){
          throw new Error(response.status.toString())
        }
        const data = await response.json()
        console.log(data)
      }catch (error) {
        console.error(error)
      }
    }*/
</script>
</body>
</html>